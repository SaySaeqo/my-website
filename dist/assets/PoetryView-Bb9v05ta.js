import{r as P,h as O,d as C,B as I,a as $,u as k,_ as S,c as E,w as L,b as f,o as n,e as c,f as V,g as l,F as g,i as y,t as d}from"./index-CPa5yEH_.js";var q=Object.defineProperty,x=Object.defineProperties,D=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,_=(s,e,t)=>e in s?q(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,b=(s,e)=>{for(var t in e||(e={}))F.call(e,t)&&_(s,t,e[t]);if(v)for(var t of v(e))N.call(e,t)&&_(s,t,e[t]);return s};function T(s){return e=b({},s),t={attrs:b({host:"https://cusdis.com"},s.attrs)},x(e,D(t));var e,t}function w(s){return new Promise((e,t)=>{let r=document.querySelector(`script[src="${s}"]`);if(!r)return r=document.createElement("script"),r.src=s,r.async=!0,r.defer=!0,document.body.appendChild(r),r.addEventListener("load",()=>{e(r)}),r.addEventListener("error",t),void r.addEventListener("abort",t);e(r)})}var U={props:{attrs:{type:Object,validator:s=>["appId","pageId"].every(e=>s[e])||console.error("Missing required attrs. Check out `https://cusdis.com/doc#/advanced/sdk`")},lang:String},setup(s){const e=P(),t=T(s);return function(r){return new Promise((o,u)=>{const a=[],p=w(`${r.attrs.host}/js/cusdis.es.js`);if(a.push(p),r.lang){const i=w(`${r.attrs.host}/js/widget/lang/${r.lang}.js`);a.push(i)}Promise.all(a).then(()=>o()).catch(u)})}(t).then(()=>{const r=window.renderCusdis,o=e.value;r&&o&&r(o)}),()=>O("div",{id:"cusdis_thread",ref:e,"data-host":t.attrs.host,"data-page-id":t.attrs.pageId,"data-app-id":t.attrs.appId,"data-page-title":t.attrs.pageTitle,"data-page-url":t.attrs.pageUrl,"data-theme":t.attrs.theme})}};const B=C({name:"PoetryView",components:{BorderBox:I,VueCusdis:U},data(){return{poems:[{title:"",lines:[""]}],location:window.location}},setup(){const{t:s,locale:e}=k({inheritLocale:!0,useScope:"local"});return{t:s,locale:e}},async created(){const s=await $.get(location.origin+"/poetry.txt");let e="",t=[];this.poems=[];for(const r of s.data.trim().split(`
`))r?e?t.push(r):e=r:(this.poems.push({title:e,lines:t}),e="",t=[]);t.length&&this.poems.push({title:e,lines:t})}});function j(s){const e=s;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"",resource:{en:{comments:{t:0,b:{t:2,i:[{t:3}],s:"Comments"}}},pl:{comments:{t:0,b:{t:2,i:[{t:3}],s:"Komentarze"}}}}})}const z={class:"poetry-view"},K=["id"];function M(s,e,t,r,o,u){const a=f("vue-cusdis"),p=f("BorderBox");return n(),E(p,{title:s.$t("poetry.title")},{default:L(()=>[c("div",z,[(n(!0),l(g,null,y(s.poems.entries(),([i,m])=>(n(),l("div",{class:"poem",key:i,id:String(i)},[c("h2",null,d(m.title),1),(n(!0),l(g,null,y(m.lines.entries(),h=>(n(),l("p",{class:"poetry-line",key:h[0]},d(h[1]),1))),128)),e[0]||(e[0]=c("p",{class:"author"},"~SaySaeqo",-1))],8,K))),128))]),c("h2",null,d(s.t("comments")),1),V(a,{attrs:{host:"https://cusdis.com",appId:"72045998-e06e-4430-a256-117c5fb15049",pageId:s.location.hash,pageTitle:"Poetry",pageUrl:s.location},class:"comments"},null,8,["attrs"])]),_:1},8,["title"])}typeof j=="function"&&j(B);const G=S(B,[["render",M],["__scopeId","data-v-c645f659"]]);export{G as default};
